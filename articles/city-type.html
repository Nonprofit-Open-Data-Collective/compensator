<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="compensator">
<title>Determining City Type • compensator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Determining City Type">
<meta property="og:description" content="compensator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">compensator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/compensator.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Nonprofit-Open-Data-Collective/compensator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Determining City Type</h1>
                        <h4 data-toc-skip class="author">Olivia
Beck</h4>
            
            <h4 data-toc-skip class="date">18 October, 2023</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Nonprofit-Open-Data-Collective/compensator/blob/HEAD/vignettes/city-type.Rmd" class="external-link"><code>vignettes/city-type.Rmd</code></a></small>
      <div class="d-none name"><code>city-type.Rmd</code></div>
    </div>

    
    
<p>To determine which city type a nonprofit is located in, we use
county-level Federal Information Processing System (FIPS) codes and
Rural-Urban Commuting Area (RUCA) codes.</p>
<p>According the to Federal Communications Commission:</p>
<blockquote>
<p>“FIPS codes are numbers which uniquely identify geographic areas. The
number of digits in FIPS codes vary depending on the level of geography.
State-level FIPS codes have two digits, county-level FIPS codes have
five digits of which the first two are the FIPS code of the state to
which the county belongs”</p>
</blockquote>
<p>A list of all available FIPS codes can be found <a href="https://transition.fcc.gov/oet/info/maps/census/fips/fips.txt" class="external-link">here</a>.
When the IRS publishes tax return data for nonprofits, they include the
5-digit ZIP code of the primary address listed on Form 990. We can
easily find the FIPS code for each nonprofit using their respective ZIP
code by utalizing the cross walk published by the U.S. Department of
Housing and Urban Development (HUD) <a href="https://www.huduser.gov/portal/datasets/usps.html" class="external-link">here</a>.</p>
<p>In order to obtain the city type from the FIPS code, we use the RUCA
codes from the U.S. Department of Agriculture (USDA). RUCA codes assign
each county a score of 1 - 10 from most metropolitan to most rural based
on the largest commuting flow in the county. For our purposes we assign
RUCA code to be metropolitan, codes 2- 4 to be suburban, 4-6 as small
town, and 7-10 as rural. A crosswalk between county-level FIPS codes and
RUCA codes can be found on the USDA’s website <a href="https://www.ers.usda.gov/data-products/rural-urban-commuting-area-codes/" class="external-link">here</a>.
As of this date, the USDA is currently using the 2010 Census to
determine the RUCA codes, but has plans to update this data with the
2020 Census soon. We are currently using the 2010 Census based RUCA
codes.</p>
<div class="section level3">
<h3 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h3>
<p>We provide a few examples of assigning a city location to a
nonprofit.</p>
<p>The Bucks County Historical Society operates a few small museums in
Bucks County, Pennsylvania (located between Trenton, Allentown, and
Philadelphia). Their EIN is 231371952 and they report their ZIP code as
18901. We use the HUD ZIP-to-FIPS cross walk to find the FIPS code for
18901 is 42017. We then use the USDA’s FIPS-to-RUCA crosswalk to find
that 42017 has a RUCA code of 1. We conclude Bucks County Historical
Society is located in a metropolitan city.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nonprofits</span><span class="op">[</span><span class="va">nonprofits</span><span class="op">$</span><span class="va">EIN</span> <span class="op">==</span> <span class="st">"231371952"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EIN"</span>, <span class="st">"name"</span>, <span class="st">"state"</span>, <span class="st">"zip5"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##            EIN                                    name state  zip5</span></span>
<span><span class="co">## 9504 231371952 THE BUCKS COUNTY HISTORICAL SOCIETY INC    PA 18901</span></span></code></pre>
<p>The Arkansas Methodist Medical Center is a hospital and health clinic
located in Paragould, Arkansas. Their EIN is 721562468 and they report
their ZIP code as 72450, which is located in Greene County. Greene
County, Arkansas has FIPS code 05055, which has RUCA code 5, so we
conclude The Arkansas Methodist Medical Center is located in a small
town.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nonprofits</span><span class="op">[</span><span class="va">nonprofits</span><span class="op">$</span><span class="va">EIN</span> <span class="op">==</span> <span class="st">"721562468"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EIN"</span>, <span class="st">"name"</span>, <span class="st">"state"</span>, <span class="st">"zip5"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##           EIN                              name state  zip5</span></span>
<span><span class="co">## 375 721562468 ARKANSAS METHODIST MEDICAL CENTER    AR 72450</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Olivia Beck, Jessy Lecy, Urban Inistitue National Center for Charitable Statistics.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
