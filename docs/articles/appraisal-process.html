<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="compensator">
<title>Appraisal Process • compensator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Appraisal Process">
<meta property="og:description" content="compensator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">compensator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/compensator.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Nonprofit-Open-Data-Collective/compensator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="appraisal-process_files/kePrint-0.0.1/kePrint.js"></script><link href="appraisal-process_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Appraisal Process</h1>
                        <h4 data-toc-skip class="author">Olivia
Beck</h4>
            
            <h4 data-toc-skip class="date">05 May, 2023</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Nonprofit-Open-Data-Collective/compensator/blob/HEAD/vignettes/appraisal-process.Rmd" class="external-link"><code>vignettes/appraisal-process.Rmd</code></a></small>
      <div class="d-none name"><code>appraisal-process.Rmd</code></div>
    </div>

    
    
<p>The appraisal process consists of three steps:</p>
<div class="line-block">
<strong>Step 1:</strong> User inputs attributes
about reference nonprofit.</div>
<div class="line-block">
<strong>Step 2:</strong> User selects their
comparison set<br>
    - Option 1: Simple search using step 1 inputs to narrow search
criteria<br>
    - Option 2: Detailed search &amp; Manual Selection</div>
<div class="line-block">
<strong>Step 3:</strong> Obtain range of
suggested compensation for reference nonprofit</div>
<div class="line-block">    <strong>Step 3.1:</strong> Calculate the
distance between the reference nonprofit and all organizations in the
comparison set.</div>
<div class="line-block">        Optional Step 3.1.1: Optional Step of
selecting a subset of the comparison set based on the distances.</div>
<div class="line-block">    <strong>Step 3.2:</strong> Calculate the
weighted average of all organizations in the comparison set with weights
inversely proportional to the distances calculated in Step 3.1.</div>
<div class="line-block">    <strong>Step 3.3:</strong> Calculated and
report suggested salary range.</div>
<div class="section level2">
<h2 id="step-1-attributes-of-reference-nonprofit">Step 1: Attributes of Reference Nonprofit<a class="anchor" aria-label="anchor" href="#step-1-attributes-of-reference-nonprofit"></a>
</h2>
<p>The user needs to input the following attributes of their nonprofit:
the U.S. state or territory the nonprofit is located in, if the non
profit is located in a metropolitan or rural area, the total annual
expense of the nonprofit in the most recent IRS filing year, and the
NTEE code that best describes the mission of the nonprofit. We define
the following values:</p>
<ul>
<li>
<span class="math inline">\(State_{user}\)</span> = the U.S. state
or territory the nonprofit is located in.</li>
<li>
<span class="math inline">\(LocationType_{user}\)</span> = “metro”
if the user’s information is located in a metropolitan area, “suburban”
if the user’s information is located in a suburban area, “town” if the
user’s information is located in a small town, and “rural.” if the
user’s information is located in a rural area.</li>
<li>
<span class="math inline">\(TotalExpense_{user}\)</span> = the total
annual expense of the user’s nonprofit in the most recent IRS filing
year</li>
<li>
<span class="math inline">\(NTEE_{user}\)</span> = the NTEE code
that best describes the mission of the user’s nonprofit</li>
<li>Let <span class="math inline">\(OrgType_{user}\)</span> , <span class="math inline">\(BroadCategroy_{user}\)</span> , <span class="math inline">\(MajorGroup_{user}\)</span>, <span class="math inline">\(Divisoin_{user}\)</span> , and <span class="math inline">\(Subdivision_{user}\)</span> be the respective
attributes of the user’s reference organization using the disaggregated
NTEE code described in the NTEE Codes vignette.</li>
</ul>
</div>
<div class="section level2">
<h2 id="step-2-choosing-the-comparison-set">Step 2: Choosing the Comparison Set<a class="anchor" aria-label="anchor" href="#step-2-choosing-the-comparison-set"></a>
</h2>
<p>The comparison set of nonprofits is the set of all nonprofits that
will be used to obtain an appraisal for the user’s organization. Of all
available nonprofits, we only include those in the comparison set that
can “reasonably” be compared to the user’s organization. How
“reasonable” is defined will vary for each user as it depends on the job
market of their potential CEO candidate. We allow the user to default to
general constraints to create their comparison set, or define their own
set of constraints for a more customizable search.</p>
<p>We first define the following sets:</p>
<ul>
<li>
<span class="math inline">\(SearchOrganizationType \subseteq \{RG,
AA, MT, PS, RP, MS, MM, NS\}\)</span> be the set of all organization
types that potential comparison organizations can have in order to be in
the comparison set.</li>
<li>
<span class="math inline">\(SearchBroadCategory \subseteq \{ART,
EDU, ENV, HEL, HMS, IFA, PSB, REL, MMB, UNU, UNI, HOS\}\)</span> be the
set of all broad categories that potential comparison organizations can
have in order to be in the comparison set.</li>
<li>
<span class="math inline">\(SearchMajorGroup \subseteq \{A, B, C,
..., Z\}\)</span> be the set of all major groups that potential
comparison organizations can have in order to be in the comparison
set.</li>
<li>
<span class="math inline">\(SearchDivision \subseteq \{ 0, 2, 3, ...
, 9\}\)</span> be the set of all divisions that potential comparison
organizations can have in order to be in the comparison set. Note, due
to the nested structures, divisions are only interpretable inside a
major group. Thus, we suggest that you do not constrain the division if
<span class="math inline">\(SearchMajorGroup\)</span> has two or more
elements.</li>
<li>
<span class="math inline">\(SearchSubDivision \subseteq \{ 0, 1, 2,
... , 9\}\)</span> be the set of all subdivisions that potential
comparison organizations can have in order to be in the comparison set.
Note, due to the nested structures, subdivisions are only interpretable
inside a division. Thus, we suggest that you do not constrain the
division if <span class="math inline">\(SearchDivision\)</span> has two
or more elements.</li>
<li>
<span class="math inline">\(SearchState \subseteq \{AL, AK, AZ, ...,
WY\}\)</span> be the set of all U.S. states and territories that
potential comparison organizations can be located in order to be in the
comparison set.</li>
<li>
<span class="math inline">\(SearchLocationType \subseteq
\{Rural,Town, Suburban, Metro\}\)</span> be the set of all location
types that potential comparison organizations can be located in order to
be in the comparison set.</li>
<li>
<span class="math inline">\(SearchTotalExpense = [MinExpense,
MaxExpense]\)</span> be the range of total annual expenses that
potential comparison organizations can have in order to be in the
comparison set.</li>
</ul>
<p>Let <span class="math inline">\(ComparisonSet\)</span> be the set of
all nonprofits where every attribute is in the search criteria.</p>
<p>There are two options for selecting the search criteria to define the
comparison set.</p>
<div class="section level4">
<h4 id="option-1-simple-search">Option 1 : Simple Search<a class="anchor" aria-label="anchor" href="#option-1-simple-search"></a>
</h4>
<p>For a simple search for we use the the following formulas based on
their inputs in Step 1 to define search criteria:</p>
<ul>
<li>If <span class="math inline">\(OrgType_{user} = RG\)</span> , then
<span class="math inline">\(SearchOrganizationType = \{RG\}\)</span>,
else <span class="math inline">\(SearchOrganizationType = \{ AA, MT, PS,
RP, MS, MM, NS\}\)</span>.</li>
<li>If <span class="math inline">\(OrgType_{user} =RG\)</span>, then
<span class="math inline">\(SearchBroadCategory =
\{BroadCategory_{user}\}\)</span> , else <span class="math inline">\(SearchBroadCategory = \{ART, EDU, ENV, HEL, HMS,
IFA, PSB, REL, MMB, UNU, UNI, HOS\}\)</span>
</li>
<li>If <span class="math inline">\(OrgType_{user} =RG\)</span>, then
<span class="math inline">\(SearchMajorGroup\)</span> is every major
group inside <span class="math inline">\(BroadCategory_{user}\)</span>
using the list on the NTEE Codes Vignette, else, <span class="math inline">\(SearchMajorGroup = \{A, ..., Z\}\)</span>.</li>
<li><span class="math inline">\(SearchDivision = \{ 0, 2, 3, ... ,
9\}\)</span></li>
<li><span class="math inline">\(SearchSubDivision = \{ 0, 1, 2, 3, ... ,
9\}\)</span></li>
<li><span class="math inline">\(SearchState = \{AL, AK, AZ, ...,
WY\}\)</span></li>
<li><span class="math inline">\(SearchLocationType =
\{LocationTypeuser\}\)</span></li>
<li><span class="math inline">\(SearchTotalExpense =
[0.1*TotalExpense_{user} , 10 * TotalExpense_{user} ]\)</span></li>
</ul>
</div>
<div class="section level4">
<h4 id="option-2-detailed-search">Option 2: Detailed Search<a class="anchor" aria-label="anchor" href="#option-2-detailed-search"></a>
</h4>
<p>For an advanced search we allow the user to define all of their
search criteria sets as they see fit.</p>
<p>We do have a few suggestions to follow ….</p>
</div>
</div>
<div class="section level2">
<h2 id="step-3-obtaining-a-suggested-compensation-range">Step 3: Obtaining a Suggested Compensation Range<a class="anchor" aria-label="anchor" href="#step-3-obtaining-a-suggested-compensation-range"></a>
</h2>
<div class="section level3">
<h3 id="step-3-1-distance-calculations">Step 3.1: Distance Calculations<a class="anchor" aria-label="anchor" href="#step-3-1-distance-calculations"></a>
</h3>
<p>Upon the completion of Step 2, there will be <span class="math inline">\(N\)</span> organization in <span class="math inline">\(ComparisonSet\)</span>. We label them Organization
1, Organization 2, … , Organization <span class="math inline">\(N\)</span>, indexed by <span class="math inline">\(n\)</span>. For <span class="math inline">\(n\)</span> in 1 to <span class="math inline">\(N\)</span>, let <span class="math inline">\(TotalDist_n\)</span> be the distance between
Organization <span class="math inline">\(n\)</span> in <span class="math inline">\(ComparisonSet\)</span> and the user’s reference
nonprofit according to the calculations outlined in the Distance
Calculations Vignette.</p>
<div class="section level4">
<h4 id="optional-step-3-1-1">Optional Step 3.1.1<a class="anchor" aria-label="anchor" href="#optional-step-3-1-1"></a>
</h4>
<p>STILL NEED TO EDIT</p>
<p>Thresholding Deselecting organizations you do not want to include</p>
</div>
</div>
<div class="section level3">
<h3 id="step-3-2-point-value-compensation-estimate">Step 3.2: Point Value Compensation Estimate<a class="anchor" aria-label="anchor" href="#step-3-2-point-value-compensation-estimate"></a>
</h3>
<p>We calculate a point value expected compensation by finding the
weighted average of CEO salaries for all organizations in the
comparison, using weights inversely proportional to the distance
calculated in Step 3.1. The point value compensation estimate is
calculated according to Algorithm 1.</p>
<p>Intuitively, the CEO compensation of organizations in the comparison
set that have many similar attributes to the reference nonprofit should
be prioritized when creating an appraisal. Additionally, we would like
to utilize the CEO compensation information of organizations that are
less similar to the reference nonprofit, but would like to down-weight
this compensation information due to this dissimilarity to the reference
nonprofit. Since <span class="math inline">\(TotalDistance_n\)</span> is
small when Organization <span class="math inline">\(n\)</span> and the
reference nonprofit have similar attributes, and is large when
Organization <span class="math inline">\(n\)</span> and the reference
nonprofit do not have similar attributes, we create weights inversely
proportional to the total distance.</p>
<hr style="border:2px solid gray">
<p><strong>Algorithm 1</strong>: Calculate Point Value CEO Compensation
Estimate</p>
<hr>
<p>For every Organization <span class="math inline">\(n\)</span> in
<span class="math inline">\(ComparisonSet\)</span>, let <span class="math inline">\(TotalDist_n\)</span> be the total distance be the
total distance between Organization <span class="math inline">\(n\)</span> and the reference nonprofit.
Additionally, let <span class="math inline">\(CeoCompensation_n\)</span>
be the CEO total compensation for Organization <span class="math inline">\(n\)</span>.</p>
<p>Let <span class="math inline">\(MinDist = \min \{TotalDist_n: n \in
\{1, 2, ... ,N\} \}\)</span> and <span class="math inline">\(MaxDist =
\max \{TotalDist_n: n \in \{1, 2, ... ,N\} \}\)</span>.</p>
<ol style="list-style-type: decimal">
<li><p>Scale the distances between 0 and 1. For <span class="math inline">\(n\)</span> in 1 to <span class="math inline">\(N\)</span>, define <span class="math inline">\(d_n
= \frac{TotalDistance_n - MinDist}{MaxDist - MinDist}\)</span></p></li>
<li><p>Calculate the weights as <span class="math inline">\(w_n =
\frac{1- d_n }{\sum_n(1 - d_n)}\)</span>.</p></li>
<li><p>The point value CEO compensation estimate is the weighted average
of all <span class="math inline">\(CeoCompensation_n\)</span>:</p></li>
</ol>
<p><span class="math inline">\(PointEstimate = \sum_n w_n
CeoCompensation_n\)</span>.</p>
<hr style="border:2px solid gray">
</div>
<div class="section level3">
<h3 id="step-3-3-suggested-compensation-range">Step 3.3 Suggested Compensation Range<a class="anchor" aria-label="anchor" href="#step-3-3-suggested-compensation-range"></a>
</h3>
<p>NEED TO EDIT THIS</p>
<p>Adjust for controls (predictors) Conversion to % and back (p_n to
v_n) Omitting outliers (the inner 90% of the data)</p>
<hr style="border:2px solid gray">
<p><strong>Algorithm 2</strong>: Calculate Suggested Range</p>
<hr>
<p>Let <span class="math inline">\(PointEstimate\)</span> be the result
of Algorithm 1.</p>
<ol style="list-style-type: decimal">
<li><p>Using all organizations in <span class="math inline">\(ComparisonSet\)</span>, estimate a linear
regression model with <span class="math inline">\(CeoCompensation\)</span> as the response, and
<span class="math inline">\(\log_{10}(TotalExpense)\)</span>, <span class="math inline">\(\log_{10}(TotalAssests)\)</span>, <span class="math inline">\(\log_{10}(GrossReciepts)\)</span>, <span class="math inline">\(\log_{10}(TotalEmployee)\)</span>, <span class="math inline">\(FormYear\)</span>, <span class="math inline">\(BroadCategory\)</span>, <span class="math inline">\(State\)</span>, <span class="math inline">\(LoactionType\)</span>, and <span class="math inline">\(Gender\)</span> as predictors.</p></li>
<li><p>Let <span class="math inline">\(\hat{CEO}_n\)</span> be the
predicted CEO Compensation from this regression model for each
Organization <span class="math inline">\(n\)</span>, and <span class="math inline">\(e_n = CeoCompensation_n -\hat{CEO}_n\)</span> be
the corresponding residual.</p></li>
<li><p>Calculate the residual as a proportion of the observed value:
<span class="math inline">\(p_n =
\frac{e_n}{CeoCompensation_n}\)</span>.</p></li>
<li><p>Let <span class="math inline">\(v_n = PointValue * (1 +
p_n)\)</span> be transformation of <span class="math inline">\(p_n\)</span> centered at <span class="math inline">\(PointEstimate\)</span>.</p></li>
<li><p>Let <span class="math inline">\(q_{0.05}\)</span> and <span class="math inline">\(q_{0.95}\)</span> be the <span class="math inline">\(5^{th}\)</span> and <span class="math inline">\(95^{th}\)</span> quantile of the <span class="math inline">\(v_n\)</span>’s, respectively.</p></li>
</ol>
<p>Then [<span class="math inline">\(q_{0.05}\)</span> , <span class="math inline">\(q_{0.95}\)</span> ] is the suggested CEO
compensation range.</p>
<hr style="border:2px solid gray">
</div>
</div>
<div class="section level2">
<h2 id="example-of-apprasial-process">Example of Apprasial Process<a class="anchor" aria-label="anchor" href="#example-of-apprasial-process"></a>
</h2>
<p>Here we will walk through an example of the appraisal step-by-step
using the package functions. At the end of this section, we also provide
an example of how the wrapper function <code><a href="../reference/get_appraisal.html">get_appraisal()</a></code> is
used.</p>
<div class="section level3">
<h3 id="step-by-step-example">Step-by-Step Example<a class="anchor" aria-label="anchor" href="#step-by-step-example"></a>
</h3>
<p>Say Nonprofit X is a wildlife preservation nonprofit located in Elko
County, Nevada with annual expenses of ~$1,575,000. Their board is
trying to hire a new CEO and they want an appraisal for a reasonable
total compensation for their CEO candidates.</p>
<div class="section level4">
<h4 id="step-1">Step 1<a class="anchor" aria-label="anchor" href="#step-1"></a>
</h4>
<p>Using the NTEE Dendogram on the NTEE Codes Vignette, we know that
Nonprofit X has an NTEE code of D30. We then use the
<code>ntee.crosswalk</code> data set to obtain their disaggregated NTEE
code values. Thus, their input values are,</p>
<ul>
<li><span class="math inline">\(State_{user} = NV\)</span></li>
<li>
<span class="math inline">\(LocationType_{user} =
rural\)</span><br>
</li>
<li><span class="math inline">\(TotalExpense_{user} =
1,575,000\)</span></li>
<li>
<span class="math inline">\(NTEE_{user} = D30\)</span>
<ul>
<li><span class="math inline">\(OrgType_{user} = RG\)</span></li>
<li><span class="math inline">\(BroadCategroy_{user} = ENV\)</span></li>
<li><span class="math inline">\(MajorGroup_{user} = D\)</span></li>
<li><span class="math inline">\(Divisoin_{user} = 3\)</span></li>
<li><span class="math inline">\(Subdivision_{user} = 0\)</span></li>
</ul>
</li>
</ul>
<p>After defining our user input values, we use the
<code><a href="../reference/get_org_values.html">get_org_values()</a></code> function to define a list of all the need
attributes about Nonprofit X:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NonprofitX</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_org_values.html">get_org_values</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="st">"NV"</span>, </span>
<span>  location.type <span class="op">=</span> <span class="st">"rural"</span>,</span>
<span>  total.expense <span class="op">=</span> <span class="fl">1575000</span>,</span>
<span>  ntee <span class="op">=</span> <span class="st">"D30"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="step-2">Step 2<a class="anchor" aria-label="anchor" href="#step-2"></a>
</h4>
<p>The board believes the job market of their CEO candidates is other
environment and animal related nonprofits located in non-metropolitan
areas in Nevada, Utah, Idaho, and California. They use the advanced
search criteria option to obtain their <span class="math inline">\(ComparisonSet\)</span> criteria as:</p>
<ul>
<li><span class="math inline">\(SearchOrganizationType =
\{RG\}\)</span></li>
<li><span class="math inline">\(SearchBroadCategory =
\{ENV\}\)</span></li>
<li><span class="math inline">\(SearchMajorGroup = \{C,
D\}\)</span></li>
<li><span class="math inline">\(SearchDivision = \{ 0, 2, 3, ... ,
9\}\)</span></li>
<li><span class="math inline">\(SearchSubDivision = \{ 0, 1, 2, 3, ... ,
9\}\)</span></li>
<li><span class="math inline">\(SearchState = \{NV, UT, ID,
CA\}\)</span></li>
<li><span class="math inline">\(SearchLocationType = \{\text{rural},
\text{town}, \text{suburban}\}\)</span></li>
<li><span class="math inline">\(SearchTotalExpense = [0 ,
\infty]\)</span></li>
</ul>
<p>After defining the above criteria, we define our search criteria and
obtain our <span class="math inline">\(ComparisonSet\)</span> using the
<code><a href="../reference/select_sample.html">select_sample()</a></code> function. (Note, for demonstration
purposes, the code chuck below is not actually run and we fabricate a
small comparison set to walk-through the appraisal process. )</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#define search criteria</span></span>
<span><span class="va">search.criteria</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    type.org <span class="op">=</span> <span class="st">"RG"</span>,</span>
<span>    broad.category <span class="op">=</span> <span class="st">"ENV"</span>,</span>
<span>    major.group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"D"</span><span class="op">)</span>,</span>
<span>    division <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    subdivision <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    univ <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    hosp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    location.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rural"</span>, <span class="st">"town"</span>, <span class="st">"subruban"</span><span class="op">)</span>,</span>
<span>    state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NV"</span>, <span class="st">"UT"</span>, <span class="st">"CA"</span>, <span class="st">"ID"</span><span class="op">)</span>,</span>
<span>    total.expense <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="cn">Inf</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co">#obtain comparison set</span></span>
<span><span class="va">comparison.set</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_sample.html">select_sample</a></span><span class="op">(</span><span class="va">NonprofitX</span>, <span class="va">search.criteria</span><span class="op">)</span></span></code></pre></div>
<p>Then the resulting (fabricated) comparison set is the following:</p>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
State
</th>
<th style="text-align:left;">
Location Type
</th>
<th style="text-align:left;">
NTEE Code
</th>
<th style="text-align:right;">
Annual Expense
</th>
<th style="text-align:right;">
CEO Compensation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Organization A
</td>
<td style="text-align:left;">
CA
</td>
<td style="text-align:left;">
suburban
</td>
<td style="text-align:left;">
C34
</td>
<td style="text-align:right;">
2400000
</td>
<td style="text-align:right;">
189000
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization B
</td>
<td style="text-align:left;">
UT
</td>
<td style="text-align:left;">
town
</td>
<td style="text-align:left;">
D32
</td>
<td style="text-align:right;">
1600000
</td>
<td style="text-align:right;">
202000
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization C
</td>
<td style="text-align:left;">
NV
</td>
<td style="text-align:left;">
town
</td>
<td style="text-align:left;">
D20
</td>
<td style="text-align:right;">
1800000
</td>
<td style="text-align:right;">
96000
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization D
</td>
<td style="text-align:left;">
NV
</td>
<td style="text-align:left;">
suburban
</td>
<td style="text-align:left;">
C36
</td>
<td style="text-align:right;">
1400000
</td>
<td style="text-align:right;">
119000
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization E
</td>
<td style="text-align:left;">
ID
</td>
<td style="text-align:left;">
rural
</td>
<td style="text-align:left;">
D50
</td>
<td style="text-align:right;">
4300000
</td>
<td style="text-align:right;">
421000
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="step-3-1-distance-calculations-1">Step 3.1 Distance Calculations<a class="anchor" aria-label="anchor" href="#step-3-1-distance-calculations-1"></a>
</h4>
<p>Using the method outlined in the Distance Calculations Vignette, we
next calculate the mission, geographic, and size distances to find the
total distance between each of the five above organizations and
Nonprofit X. We use the <code>get_mission_dist</code> and
<code>get_geo_dist</code> functions. (Note, when you use the
<code><a href="../reference/select_sample.html">select_sample()</a></code> function, the distances are automatically
calculated. We calculate them by hand here for demonstration
purposes.)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get weights</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_weights.html">get_weights</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initialize Storage </span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">m.dist</span> <span class="op">&lt;-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">g.dist</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">comparison.set</span><span class="op">$</span><span class="va">s.dist</span> <span class="op">&lt;-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">total.dist</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="co"># Loop through all organizations an calculate the distance </span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="co">#get values of Organization i</span></span>
<span>  <span class="va">temp.org</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_org_values.html">get_org_values</a></span><span class="op">(</span></span>
<span>    state <span class="op">=</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">state</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,</span>
<span>    location.type <span class="op">=</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">location.type</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,</span>
<span>    total.expense <span class="op">=</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">total.expense</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,</span>
<span>    ntee <span class="op">=</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">old.code</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">#Calculate distances</span></span>
<span>  <span class="va">comparison.set</span><span class="op">$</span><span class="va">m.dist</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_mission_dist.html">get_mission_dist</a></span><span class="op">(</span><span class="va">NonprofitX</span>, <span class="va">temp.org</span>, <span class="va">w</span><span class="op">$</span><span class="va">mission</span><span class="op">)</span></span>
<span>  <span class="va">comparison.set</span><span class="op">$</span><span class="va">g.dist</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_geo_dist.html">get_geo_dist</a></span><span class="op">(</span><span class="va">NonprofitX</span>, <span class="va">temp.org</span>, <span class="va">w</span><span class="op">$</span><span class="va">geo</span><span class="op">)</span></span>
<span>  <span class="va">comparison.set</span><span class="op">$</span><span class="va">s.dist</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">NonprofitX</span><span class="op">$</span><span class="va">total.expense</span> <span class="op">-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">total.expense</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>, </span>
<span>      base <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#find minimum values of each distance category </span></span>
<span><span class="va">min.miss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">m.dist</span><span class="op">)</span></span>
<span><span class="va">min.geo</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">g.dist</span><span class="op">)</span></span>
<span><span class="va">min.size</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">s.dist</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Center and scale total distance </span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">total.dist</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fl">100</span><span class="op">/</span><span class="fl">3</span><span class="op">*</span><span class="op">(</span> <span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">m.dist</span> <span class="op">-</span> <span class="va">min.miss</span><span class="op">)</span> <span class="op">+</span> </span>
<span>          <span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">g.dist</span> <span class="op">-</span> <span class="va">min.geo</span> <span class="op">)</span> <span class="op">+</span> </span>
<span>          <span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">s.dist</span> <span class="op">-</span> <span class="va">min.size</span><span class="op">)</span> <span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:right;">
Mission Distance
</th>
<th style="text-align:right;">
Geographic Distance
</th>
<th style="text-align:right;">
Size Distance
</th>
<th style="text-align:right;">
Total Distance
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Organization A
</td>
<td style="text-align:right;">
0.845
</td>
<td style="text-align:right;">
0.602
</td>
<td style="text-align:right;">
5.916
</td>
<td style="text-align:right;">
78.787
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization B
</td>
<td style="text-align:right;">
0.301
</td>
<td style="text-align:right;">
0.477
</td>
<td style="text-align:right;">
4.398
</td>
<td style="text-align:right;">
5.870
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization C
</td>
<td style="text-align:right;">
0.602
</td>
<td style="text-align:right;">
0.301
</td>
<td style="text-align:right;">
5.352
</td>
<td style="text-align:right;">
41.842
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization D
</td>
<td style="text-align:right;">
0.845
</td>
<td style="text-align:right;">
0.477
</td>
<td style="text-align:right;">
5.243
</td>
<td style="text-align:right;">
52.175
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization E
</td>
<td style="text-align:right;">
0.602
</td>
<td style="text-align:right;">
0.301
</td>
<td style="text-align:right;">
6.435
</td>
<td style="text-align:right;">
77.949
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="step-3-2-point-value-compensation-estimate-1">Step 3.2 Point Value Compensation Estimate<a class="anchor" aria-label="anchor" href="#step-3-2-point-value-compensation-estimate-1"></a>
</h4>
<p>We next use Algorithm 1 to calculate the point value compensation
estimate. We first need to calculate the corresponding weights, then use
the weights to calculate a weighted average of the CEO compensations of
the organizations in the comparison set.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get minimum and maximum distances for scaling and centering </span></span>
<span><span class="va">min.dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">total.dist</span><span class="op">)</span></span>
<span><span class="va">max.dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">total.dist</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Scale and center total distance</span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">d</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">total.dist</span> <span class="op">-</span> <span class="va">min.dist</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">max.dist</span> <span class="op">-</span> <span class="va">min.dist</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate Weights</span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">d</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">d</span><span class="op">)</span></span></code></pre></div>
<p>Our <span class="math inline">\(d\)</span> and <span class="math inline">\(weight\)</span> values are as follows:</p>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:right;">
Total Distance
</th>
<th style="text-align:right;">
d
</th>
<th style="text-align:right;">
weight
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Organization A
</td>
<td style="text-align:right;">
78.787
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization B
</td>
<td style="text-align:right;">
5.870
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.531
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization C
</td>
<td style="text-align:right;">
41.842
</td>
<td style="text-align:right;">
0.493
</td>
<td style="text-align:right;">
0.269
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization D
</td>
<td style="text-align:right;">
52.175
</td>
<td style="text-align:right;">
0.635
</td>
<td style="text-align:right;">
0.194
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization E
</td>
<td style="text-align:right;">
77.949
</td>
<td style="text-align:right;">
0.989
</td>
<td style="text-align:right;">
0.006
</td>
</tr>
</tbody>
</table>
<p>Finally, we calcuate the weighted average to obtain the point value
estimate.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get point value estimate </span></span>
<span><span class="va">suggested.salary</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">weight</span> <span class="op">*</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">ceo.compensation</span><span class="op">)</span></span>
<span><span class="va">suggested.salary</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 158731.6</span></span></code></pre>
<p>The suggested point value estimate is $158,732.</p>
</div>
<div class="section level4">
<h4 id="step-3-3-suggested-compensation-range-1">Step 3.3 Suggested Compensation Range<a class="anchor" aria-label="anchor" href="#step-3-3-suggested-compensation-range-1"></a>
</h4>
<p>We obtain the suggested CEO compensation range according to Algorithm
2. (Here we fabricate <span class="math inline">\(\hat{CEO}_n\)</span>
for demonstration purposes as running a regression model with 5 data
points and 9 predictors would lead to nonsensical results. Thus <span class="math inline">\(e_n\)</span> is also fabricated, but we ensured
<span class="math inline">\(\sum_n e_n =0\)</span> to align with
properties of a regression model.)</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#fabricate ceo-hat predicted values</span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">ceo.hat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">170000</span>, <span class="fl">209000</span>, <span class="fl">140000</span>, <span class="fl">132000</span>, <span class="fl">376000</span><span class="op">)</span></span>
<span></span>
<span><span class="co">##get residuals </span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">ceo.compensation</span> <span class="op">-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">ceo.hat</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">e</span><span class="op">)</span> <span class="co">#residuals sum to 0</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get residuals as percent</span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">e</span> <span class="op">/</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">ceo.compensation</span></span>
<span></span>
<span><span class="co"># get percent of suggested salary </span></span>
<span><span class="va">comparison.set</span><span class="op">$</span><span class="va">v</span> <span class="op">&lt;-</span> <span class="va">suggested.salary</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">comparison.set</span><span class="op">$</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p>Our <span class="math inline">\(e\)</span>, <span class="math inline">\(p\)</span>, and <span class="math inline">\(v\)</span> values are as follows:</p>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:right;">
CEO Compensation
</th>
<th style="text-align:right;">
Predicted CEO Compensation
</th>
<th style="text-align:right;">
e
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
v
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Organization A
</td>
<td style="text-align:right;">
189000
</td>
<td style="text-align:right;">
170000
</td>
<td style="text-align:right;">
19000
</td>
<td style="text-align:right;">
0.101
</td>
<td style="text-align:right;">
174688.80
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization B
</td>
<td style="text-align:right;">
202000
</td>
<td style="text-align:right;">
209000
</td>
<td style="text-align:right;">
-7000
</td>
<td style="text-align:right;">
-0.035
</td>
<td style="text-align:right;">
153231.05
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization C
</td>
<td style="text-align:right;">
96000
</td>
<td style="text-align:right;">
140000
</td>
<td style="text-align:right;">
-44000
</td>
<td style="text-align:right;">
-0.458
</td>
<td style="text-align:right;">
85979.64
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization D
</td>
<td style="text-align:right;">
119000
</td>
<td style="text-align:right;">
132000
</td>
<td style="text-align:right;">
-13000
</td>
<td style="text-align:right;">
-0.109
</td>
<td style="text-align:right;">
141391.21
</td>
</tr>
<tr>
<td style="text-align:left;">
Organization E
</td>
<td style="text-align:right;">
421000
</td>
<td style="text-align:right;">
376000
</td>
<td style="text-align:right;">
45000
</td>
<td style="text-align:right;">
0.107
</td>
<td style="text-align:right;">
175698.21
</td>
</tr>
</tbody>
</table>
<p>Finally, we calculate the suggested compensatoin range.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get quantiles </span></span>
<span><span class="va">suggested.range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">comparison.set</span><span class="op">$</span><span class="va">v</span>, probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.95</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">suggested.range</span></span></code></pre></div>
<pre><code><span><span class="co">##        5%       95% </span></span>
<span><span class="co">##  97061.96 175496.33</span></span></code></pre>
<p>The suggested range for CEO compensation for Nonprofit X is $97,062
to $175,496.</p>
</div>
</div>
<div class="section level3">
<h3 id="using-the-wrapper-funciton">Using the wrapper funciton<a class="anchor" aria-label="anchor" href="#using-the-wrapper-funciton"></a>
</h3>
<p>In a non-fabricated example, you can use the
<code><a href="../reference/get_appraisal.html">get_appraisal()</a></code> wrapper function to do these calculations
automatically.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NonprofitX</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_org_values.html">get_org_values</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="st">"NV"</span>, </span>
<span>  location.type <span class="op">=</span> <span class="st">"rural"</span>,</span>
<span>  total.expense <span class="op">=</span> <span class="fl">1575000</span>,</span>
<span>  ntee <span class="op">=</span> <span class="st">"D30"</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">search.criteria</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    type.org <span class="op">=</span> <span class="st">"RG"</span>,</span>
<span>    broad.category <span class="op">=</span> <span class="st">"ENV"</span>,</span>
<span>    major.group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"D"</span><span class="op">)</span>,</span>
<span>    division <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    subdivision <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    univ <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    hosp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    location.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rural"</span>, <span class="st">"town"</span>, <span class="st">"subruban"</span><span class="op">)</span>,</span>
<span>    state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NV"</span>, <span class="st">"UT"</span>, <span class="st">"CA"</span>, <span class="st">"ID"</span><span class="op">)</span>,</span>
<span>    total.expense <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="cn">Inf</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">final.apprasial</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_appraisal.html">get_appraisal</a></span><span class="op">(</span><span class="va">NonprofitX</span>, <span class="va">search.criteria</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Olivia Beck, Jessy Lecy, Urban Inistitue National Center for Charitable Statistics.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
